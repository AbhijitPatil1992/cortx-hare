{
  "server" : true,
  "watches": [
    {
      "type": "key",
      "key": "leader",
      "args": ["/opt/seagate/consul/elect-rc-leader"]
    },
    {
      "type": "service",
      "service": "confd",
      "handler_type": "http",
      "http_handler_config": {
         "path":"http://localhost:8080",
         "method": "POST",
         "timeout": "10s"
      }
    },
    {
      "type": "service",
      "service": "confd",
      "args": ["/opt/seagate/consul/watch-service"]
    }
  ],
  "enable_local_script_checks" : true,
  "services": [
   {
    "id": "fid",
    "name": "confd",
    "address": "@tcp:12345:44",
    "port": 101,
    "checks": [
      {
        "args": ["/opt/seagate/consul/check-confd"],
        "interval": "10s"
      }
    ]
   },
   {
    "id": "fid",
    "name": "ios",
    "address": "@tcp:12345:41",
    "port": 401
   }
  ]
}
